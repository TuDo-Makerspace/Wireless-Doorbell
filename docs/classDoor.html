<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TU-DO Wireless Doorbell: Door Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TU-DO Wireless Doorbell
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classDoor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Door Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Main <a class="el" href="classDoor.html" title="The Main Door class.">Door</a> class.  
 <a href="classDoor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Door_8h_source.html">Door.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Door:</div>
<div class="dyncontent">
<div class="center"><img src="classDoor__coll__graph.png" border="0" usemap="#Door_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5191a649ed79b50f886e5c43b473c369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a5191a649ed79b50f886e5c43b473c369">Door</a> ()</td></tr>
<tr class="memdesc:a5191a649ed79b50f886e5c43b473c369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classDoor.html#a5191a649ed79b50f886e5c43b473c369">More...</a><br /></td></tr>
<tr class="separator:a5191a649ed79b50f886e5c43b473c369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab603568a474eb76bfa7dc87842cdd4ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#ab603568a474eb76bfa7dc87842cdd4ca">Door</a> (<a class="el" href="classDoorCFG.html">DoorCFG</a> cfg)</td></tr>
<tr class="memdesc:ab603568a474eb76bfa7dc87842cdd4ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classDoor.html#ab603568a474eb76bfa7dc87842cdd4ca">More...</a><br /></td></tr>
<tr class="separator:ab603568a474eb76bfa7dc87842cdd4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb4f6c3ed153d23219e0f889c1f66ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a2bb4f6c3ed153d23219e0f889c1f66ce">run</a> ()</td></tr>
<tr class="memdesc:a2bb4f6c3ed153d23219e0f889c1f66ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the state machine.  <a href="classDoor.html#a2bb4f6c3ed153d23219e0f889c1f66ce">More...</a><br /></td></tr>
<tr class="separator:a2bb4f6c3ed153d23219e0f889c1f66ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a38d4cc368635d47eff17500f4cacab5b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> { <br />
&#160;&#160;<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5bae4238e79e99254c81d0247880670e9c6">INIT</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5baa92b8eecbb74ff417f680e3925093e0c">CONNECTING</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5baeed3444774d703e4d0628e48b8f025fd">CONNECTED</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5ba8c404dd720f51d3ac1bdb5db92e25405">RINGING</a>, 
<br />
&#160;&#160;<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5ba504e7696dd0089f31dc0e9431d7716fc">ERROR</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5ba89670ce298ef97ce36895db671786351">ERROR_HANDLING</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5ba6a2a03b292989d815380f19d44d53482">POWER_OFF</a>, 
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5ba49ba94e87167e02d921299c6312f4117">POWERED_OFF</a>
<br />
 }</td></tr>
<tr class="memdesc:a38d4cc368635d47eff17500f4cacab5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine states.  <a href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">More...</a><br /></td></tr>
<tr class="separator:a38d4cc368635d47eff17500f4cacab5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d0c4ce01c85cc4c405cb3ea6610aae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aae">error_type</a> { <br />
&#160;&#160;<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aaeafde17079628479663d576385887183bf">UNINITIALIZED</a>, 
<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aaea2e38346ba366383e1a563c0bacd10d2c">CFG_INVALID</a>, 
<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aaea80c026c8200b9f30b1b3f23ac51fbfbe">NO_WIFI</a>, 
<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aaeab18b6bd703becd01033a41f8a1b9c333">PARTIAL_SUCCESS</a>, 
<br />
&#160;&#160;<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aaead849ace9d59e6b8656be055063aecbdb">FAIL</a>
<br />
 }</td></tr>
<tr class="separator:ae2d0c4ce01c85cc4c405cb3ea6610aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a222bf4929529a34a933b1b52d3059ffe"><td class="memItemLeft" align="right" valign="top"><a id="a222bf4929529a34a933b1b52d3059ffe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a222bf4929529a34a933b1b52d3059ffe">bootMSG</a> ()</td></tr>
<tr class="memdesc:a222bf4929529a34a933b1b52d3059ffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the boot message. <br /></td></tr>
<tr class="separator:a222bf4929529a34a933b1b52d3059ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fabf87e193c17fb28492563956cb92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#af7fabf87e193c17fb28492563956cb92">init</a> ()</td></tr>
<tr class="memdesc:af7fabf87e193c17fb28492563956cb92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point of the state machine.  <a href="classDoor.html#af7fabf87e193c17fb28492563956cb92">More...</a><br /></td></tr>
<tr class="separator:af7fabf87e193c17fb28492563956cb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5eb9c631dc7da1964644827db85832"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a2f5eb9c631dc7da1964644827db85832">connecting</a> ()</td></tr>
<tr class="memdesc:a2f5eb9c631dc7da1964644827db85832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the CONNECTING state.  <a href="classDoor.html#a2f5eb9c631dc7da1964644827db85832">More...</a><br /></td></tr>
<tr class="separator:a2f5eb9c631dc7da1964644827db85832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f14b91e5f8b4253aa96d165ef52619f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f">connected</a> ()</td></tr>
<tr class="memdesc:a6f14b91e5f8b4253aa96d165ef52619f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the CONNECTED state.  <a href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f">More...</a><br /></td></tr>
<tr class="separator:a6f14b91e5f8b4253aa96d165ef52619f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c2c82421c10fa72f3fc18d3b774152"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a00c2c82421c10fa72f3fc18d3b774152">ringing</a> ()</td></tr>
<tr class="memdesc:a00c2c82421c10fa72f3fc18d3b774152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the RINGING state.  <a href="classDoor.html#a00c2c82421c10fa72f3fc18d3b774152">More...</a><br /></td></tr>
<tr class="separator:a00c2c82421c10fa72f3fc18d3b774152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ce4e96bd9fabeb85d5cdd12e5afccb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a15ce4e96bd9fabeb85d5cdd12e5afccb">error</a> ()</td></tr>
<tr class="memdesc:a15ce4e96bd9fabeb85d5cdd12e5afccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the ERROR state.  <a href="classDoor.html#a15ce4e96bd9fabeb85d5cdd12e5afccb">More...</a><br /></td></tr>
<tr class="separator:a15ce4e96bd9fabeb85d5cdd12e5afccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c0a51bcbf4863504befbf5ff719fc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#a26c0a51bcbf4863504befbf5ff719fc6">error_handling</a> ()</td></tr>
<tr class="memdesc:a26c0a51bcbf4863504befbf5ff719fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the ERROR_HANDLING state.  <a href="classDoor.html#a26c0a51bcbf4863504befbf5ff719fc6">More...</a><br /></td></tr>
<tr class="separator:a26c0a51bcbf4863504befbf5ff719fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa783f68afda537b5241e83cb6f21ebed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDoor.html#aa783f68afda537b5241e83cb6f21ebed">power_off</a> ()</td></tr>
<tr class="memdesc:aa783f68afda537b5241e83cb6f21ebed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the POWER_OFF state.  <a href="classDoor.html#aa783f68afda537b5241e83cb6f21ebed">More...</a><br /></td></tr>
<tr class="separator:aa783f68afda537b5241e83cb6f21ebed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4e5c9140b3459d4f24dc33739f391334"><td class="memItemLeft" align="right" valign="top"><a id="a4e5c9140b3459d4f24dc33739f391334"></a>
<a class="el" href="classDoorCFG.html">DoorCFG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cfg</b></td></tr>
<tr class="separator:a4e5c9140b3459d4f24dc33739f391334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9e742af656e01fc81d2c24ae3445ea"><td class="memItemLeft" align="right" valign="top"><a id="afb9e742af656e01fc81d2c24ae3445ea"></a>
<a class="el" href="classStatusLED.html">StatusLED</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ring_led</b></td></tr>
<tr class="separator:afb9e742af656e01fc81d2c24ae3445ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22645267782c5416a6c95ee7e8df121d"><td class="memItemLeft" align="right" valign="top"><a id="a22645267782c5416a6c95ee7e8df121d"></a>
<a class="el" href="classStatusLED.html">StatusLED</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pwr_led</b></td></tr>
<tr class="separator:a22645267782c5416a6c95ee7e8df121d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6878e742e12f5eac97f464d963a5378d"><td class="memItemLeft" align="right" valign="top"><a id="a6878e742e12f5eac97f464d963a5378d"></a>
<a class="el" href="classWiFiHandler.html">WiFiHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><b>wifi_handler</b></td></tr>
<tr class="separator:a6878e742e12f5eac97f464d963a5378d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8921d4ee97104a4f08943f9b0dd803"><td class="memItemLeft" align="right" valign="top"><a id="a7c8921d4ee97104a4f08943f9b0dd803"></a>
<a class="el" href="classRingSender.html">RingSender</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ring_sender</b></td></tr>
<tr class="separator:a7c8921d4ee97104a4f08943f9b0dd803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066e9252099b8e1887e910d368eb5dcd"><td class="memItemLeft" align="right" valign="top"><a id="a066e9252099b8e1887e910d368eb5dcd"></a>
<a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a>&#160;</td><td class="memItemRight" valign="bottom"><b>state</b></td></tr>
<tr class="separator:a066e9252099b8e1887e910d368eb5dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25cdc615f292c5ab15dbf36bfa98a115"><td class="memItemLeft" align="right" valign="top"><a id="a25cdc615f292c5ab15dbf36bfa98a115"></a>
<a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aae">error_type</a>&#160;</td><td class="memItemRight" valign="bottom"><b>err</b></td></tr>
<tr class="separator:a25cdc615f292c5ab15dbf36bfa98a115"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Main <a class="el" href="classDoor.html" title="The Main Door class.">Door</a> class. </p>
<p>The <a class="el" href="classDoor.html" title="The Main Door class.">Door</a> class handles the main logic of the <a class="el" href="classDoor.html" title="The Main Door class.">Door</a> transmitter. This includes initializing and handling all sub classes (<a class="el" href="classRingSender.html" title="The RingSender class.">RingSender</a>, <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a>, Status LEDs etc.), printing the boot message, handling errors and more...</p>
<p>The class is initialized by taking a <a class="el" href="classDoorCFG.html" title="The DoorCFG class.">DoorCFG</a> object in its constructor. </p>

<p class="definition">Definition at line <a class="el" href="Door_8h_source.html#l00046">46</a> of file <a class="el" href="Door_8h_source.html">Door.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a38d4cc368635d47eff17500f4cacab5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d4cc368635d47eff17500f4cacab5b">&#9670;&nbsp;</a></span>door_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">Door::door_state</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State machine states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5bae4238e79e99254c81d0247880670e9c6"></a>INIT&#160;</td><td class="fielddoc"><p>Initialization. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5baa92b8eecbb74ff417f680e3925093e0c"></a>CONNECTING&#160;</td><td class="fielddoc"><p>Connecting to WiFi. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5baeed3444774d703e4d0628e48b8f025fd"></a>CONNECTED&#160;</td><td class="fielddoc"><p>Connected to WiFi. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5ba8c404dd720f51d3ac1bdb5db92e25405"></a>RINGING&#160;</td><td class="fielddoc"><p>Send ring message. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5ba504e7696dd0089f31dc0e9431d7716fc"></a>ERROR&#160;</td><td class="fielddoc"><p>Error occured. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5ba89670ce298ef97ce36895db671786351"></a>ERROR_HANDLING&#160;</td><td class="fielddoc"><p>Error being handled. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5ba6a2a03b292989d815380f19d44d53482"></a>POWER_OFF&#160;</td><td class="fielddoc"><p>Power off. </p>
</td></tr>
<tr><td class="fieldname"><a id="a38d4cc368635d47eff17500f4cacab5ba49ba94e87167e02d921299c6312f4117"></a>POWERED_OFF&#160;</td><td class="fielddoc"><p>Wait for door to power off. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="Door_8h_source.html#l00048">48</a> of file <a class="el" href="Door_8h_source.html">Door.h</a>.</p>

</div>
</div>
<a id="ae2d0c4ce01c85cc4c405cb3ea6610aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d0c4ce01c85cc4c405cb3ea6610aae">&#9670;&nbsp;</a></span>error_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDoor.html#ae2d0c4ce01c85cc4c405cb3ea6610aae">Door::error_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae2d0c4ce01c85cc4c405cb3ea6610aaeafde17079628479663d576385887183bf"></a>UNINITIALIZED&#160;</td><td class="fielddoc"><p>Class only initialized with default constructor. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2d0c4ce01c85cc4c405cb3ea6610aaea2e38346ba366383e1a563c0bacd10d2c"></a>CFG_INVALID&#160;</td><td class="fielddoc"><p>Configuration invalid. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2d0c4ce01c85cc4c405cb3ea6610aaea80c026c8200b9f30b1b3f23ac51fbfbe"></a>NO_WIFI&#160;</td><td class="fielddoc"><p>WiFi not available. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2d0c4ce01c85cc4c405cb3ea6610aaeab18b6bd703becd01033a41f8a1b9c333"></a>PARTIAL_SUCCESS&#160;</td><td class="fielddoc"><p>Partial success (not all bells rang) </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2d0c4ce01c85cc4c405cb3ea6610aaead849ace9d59e6b8656be055063aecbdb"></a>FAIL&#160;</td><td class="fielddoc"><p>Failure (no bells rang) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="Door_8h_source.html#l00060">60</a> of file <a class="el" href="Door_8h_source.html">Door.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5191a649ed79b50f886e5c43b473c369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5191a649ed79b50f886e5c43b473c369">&#9670;&nbsp;</a></span>Door() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Door::Door </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>The default constructor only serves to allow the class to be declared without immidiately initializing it. This spares us from having to allocate the object on the heap via a pointer, which we generally want to avoid on embedded systems. </p>

</div>
</div>
<a id="ab603568a474eb76bfa7dc87842cdd4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab603568a474eb76bfa7dc87842cdd4ca">&#9670;&nbsp;</a></span>Door() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Door::Door </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoorCFG.html">DoorCFG</a>&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>The constructor takes a <a class="el" href="classDoorCFG.html" title="The DoorCFG class.">DoorCFG</a> object as an argument. The <a class="el" href="classDoorCFG.html" title="The DoorCFG class.">DoorCFG</a> object contains all the configuration for the <a class="el" href="classBell.html" title="The Main Bell class.">Bell</a> class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td><a class="el" href="classDoorCFG.html" title="The DoorCFG class.">DoorCFG</a> object containing the configuration </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6f14b91e5f8b4253aa96d165ef52619f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f14b91e5f8b4253aa96d165ef52619f">&#9670;&nbsp;</a></span>connected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::connected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the CONNECTED state. </p>
<p>The <a class="el" href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f" title="Handles the CONNECTED state.">connected()</a> function handles the CONNECTED state. The CONNECTED state sends a ring message to all bells via the <a class="el" href="classRingSender.html" title="The RingSender class.">RingSender</a> class and then returns the RINGING state.</p>
<dl class="section return"><dt>Returns</dt><dd>RIGHTING, the next state of the state machine. </dd></dl>

</div>
</div>
<a id="a2f5eb9c631dc7da1964644827db85832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5eb9c631dc7da1964644827db85832">&#9670;&nbsp;</a></span>connecting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::connecting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the CONNECTING state. </p>
<p>The <a class="el" href="classDoor.html#a2f5eb9c631dc7da1964644827db85832" title="Handles the CONNECTING state.">connecting()</a> function handles the CONNECTING state. The CONNECTING state will poll the <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a> to check if the connection to the WiFi network has been established.</p>
<p>If the connection has been established, the <a class="el" href="classDoor.html#a2f5eb9c631dc7da1964644827db85832" title="Handles the CONNECTING state.">connecting()</a> function will return the CONNECTED state.</p>
<p>If the connection attempt has timed out, the <a class="el" href="classDoor.html#a2f5eb9c631dc7da1964644827db85832" title="Handles the CONNECTING state.">connecting()</a> function will return the ERROR state and set the error type to NO_WIFI.</p>
<dl class="section return"><dt>Returns</dt><dd>The next state of the state machine: CONNECTING, if the <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a> is still connecting. CONNECTED, if the <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a> has connected. ERROR (NO_WIFI), if the <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a> has timed out. </dd></dl>

</div>
</div>
<a id="a15ce4e96bd9fabeb85d5cdd12e5afccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ce4e96bd9fabeb85d5cdd12e5afccb">&#9670;&nbsp;</a></span>error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the ERROR state. </p>
<p>The <a class="el" href="classDoor.html#a15ce4e96bd9fabeb85d5cdd12e5afccb" title="Handles the ERROR state.">error()</a> function handles the ERROR state. If an error occurs, the state machine transitions to the ERROR state. The ERROR state determines the type of error and prepares the error handling (eg. setting status LEDs to blink mode).</p>
<p>The error is then handled in the <a class="el" href="classDoor.html#a26c0a51bcbf4863504befbf5ff719fc6" title="Handles the ERROR_HANDLING state.">error_handling()</a> function.</p>
<dl class="section return"><dt>Returns</dt><dd>ERROR_HANDLING, the next state of the state machine. </dd></dl>

</div>
</div>
<a id="a26c0a51bcbf4863504befbf5ff719fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c0a51bcbf4863504befbf5ff719fc6">&#9670;&nbsp;</a></span>error_handling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::error_handling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the ERROR_HANDLING state. </p>
<p>The <a class="el" href="classDoor.html#a26c0a51bcbf4863504befbf5ff719fc6" title="Handles the ERROR_HANDLING state.">error_handling()</a> function handles the ERROR_HANDLING state. The ERROR_HANDLING state handles the error by blinking the LED and waiting for the user to reset the device.</p>
<dl class="section return"><dt>Returns</dt><dd>ERROR_HANDLING, if the error is still being handled or is fatal. POWER_OFF, once the error has been handled. </dd></dl>

</div>
</div>
<a id="af7fabf87e193c17fb28492563956cb92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7fabf87e193c17fb28492563956cb92">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Entry point of the state machine. </p>
<p>The init function is the entry point of the state machine. It enables the power LED, prints the boot message, and tells the <a class="el" href="classWiFiHandler.html" title="WiFihandler class.">WiFiHandler</a> to connect to the WiFi network.</p>
<p>Once complete, the init method returns the CONNECTING state, which the state machine will then enter.</p>
<dl class="section return"><dt>Returns</dt><dd>CONNECTING, the next state of the state machine. </dd></dl>

</div>
</div>
<a id="aa783f68afda537b5241e83cb6f21ebed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa783f68afda537b5241e83cb6f21ebed">&#9670;&nbsp;</a></span>power_off()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::power_off </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the POWER_OFF state. </p>
<p>The <a class="el" href="classDoor.html#aa783f68afda537b5241e83cb6f21ebed" title="Handles the POWER_OFF state.">power_off()</a> function handles the POWER_OFF state. The POWER_OFF state unlatches the power latch and returns the POWERED_OFF state.</p>
<p>Ideally the POWER_OFF state should never be reached, as the device should be powered off by then. However, if a devboard is used, or the power isn't immediately cut off, the POWER_OFF state will be reached, where the device reaches an infinite loop.</p>
<dl class="section return"><dt>Returns</dt><dd>POWERED_OFF, the next state of the state machine. </dd></dl>

</div>
</div>
<a id="a00c2c82421c10fa72f3fc18d3b774152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c2c82421c10fa72f3fc18d3b774152">&#9670;&nbsp;</a></span>ringing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoor.html#a38d4cc368635d47eff17500f4cacab5b">door_state</a> Door::ringing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the RINGING state. </p>
<p>If the <a class="el" href="classRingSender.html" title="The RingSender class.">RingSender</a> is still awaiting a response, the RIGHTING state will be returned.</p>
<p>If all bells have been rang, the <a class="el" href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f" title="Handles the CONNECTED state.">connected()</a> function will return the POWER_OFF state.</p>
<p>If some bells have been rang, but not all, the <a class="el" href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f" title="Handles the CONNECTED state.">connected()</a> function will return the ERROR state and set the error type to PARTIAL_SUCCESS.</p>
<p>If no bells have been rang, the <a class="el" href="classDoor.html#a6f14b91e5f8b4253aa96d165ef52619f" title="Handles the CONNECTED state.">connected()</a> function will return the ERROR state and set the error type to FAIL.</p>
<dl class="section return"><dt>Returns</dt><dd>The next state of the state machine: RINGING, if the <a class="el" href="classRingSender.html" title="The RingSender class.">RingSender</a> is still awaiting a response. POWER_OFF, if all bells have been rang. ERROR (PARTIAL_SUCCESS), if some bells have been rang, but not all. ERROR (FAIL), if no bells have been rang. </dd></dl>

</div>
</div>
<a id="a2bb4f6c3ed153d23219e0f889c1f66ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb4f6c3ed153d23219e0f889c1f66ce">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Door::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the state machine. </p>
<p>The following function runs the main state machine of the <a class="el" href="classBell.html" title="The Main Bell class.">Bell</a> class. It is the entry point of the class and must be continuously called in the main loop of the program. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/door/<a class="el" href="Door_8h_source.html">Door.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
